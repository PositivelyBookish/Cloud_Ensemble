<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classify Image</title>
</head>
<body>
    <h1>Upload an Image for Classification</h1>
    <form id="uploadForm" action="http://localhost/classify" method="POST" enctype="multipart/form-data">
        <input type="file" name="image" required>
        <button type="submit">Classify Image</button>
    </form>

    <h2 id="result"></h2> <!-- Section to display the result -->

    <script>
    document.getElementById("uploadForm").addEventListener("submit", function(event) {
        event.preventDefault();
        var formData = new FormData(event.target);
        fetch('/classify', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            // Check if the response has the correct keys
            const result = document.getElementById("result");
            if(data.PredictedClass && data.Confidence) {
                result.innerHTML = `
                    <p><strong>Predicted Class:</strong> ${data.PredictedClass}</p>
                    <p><strong>Confidence:</strong> ${data.Confidence}%</p>
                `;
            } else {
                result.innerHTML = `<p>Classification failed. Please try again.</p>`;
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
    </script>


</body>
</html>
